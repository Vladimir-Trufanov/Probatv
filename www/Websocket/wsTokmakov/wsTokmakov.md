## [wsTokmakov - изучение материалов по сайтам Токмакова](wsTokmakov/wsTokmakov.md)

Примеры клиента и сокет-сервера на PHP по материалам сайтов:

### [WebSocket сервер на PHP](https://tokmakov.msk.ru/blog/item/202)

### [GitHub: web-socket-server](https://github.com/tokmakov/web-socket-server)

### Общие рекомендации по запуску PHP-скриптов в командной строке Windows:

- Откройте командную строку. Для этого зажмите сочетание клавиш Win+R, введите «***cmd***» и нажмите ***Enter***. 

- Убедитесь, что PHP установлен в системе. Чтобы проверить наличие PHP и узнать установленную версию, введите ***php -v***. Если PHP не установлен, загрузите и установите его с официального сайта PHP. 

- Создайте PHP-скрипт, используя любой текстовый редактор. 

- Запустите скрипт. В командной строке пропишите команду ***php script.php***. 

- Также рекомендуется добавить путь до PHP в переменную окружения PATH в Windows. Это позволит не указывать каждый раз полный путь до файла php.exe. 

### Как начать пользоваться TelNet в Windows 11:

Чтобы пользоваться Telnet в Windows 11, необходимо включить эту функцию через настройки операционной системы:

- Откройте «Панель управления». Для этого нажмите клавиши Win + R на клавиатуре (либо правой кнопкой мыши по кнопке «Пуск» и выберите пункт «Выполнить»).

- Введите ***appwiz.cpl*** и нажмите ***Enter***. В открывшемся окне в панели слева нажмите по пункту «***Включение или отключение компонентов Windows***». 

- Отметьте «***Клиент Telnet***» в списке доступных компонентов и нажмите «***Ок***».  Дождитесь, когда клиент Telnet будет установлен. 

- Для начала использования достаточно будет запустить командную строку, ввести команду ***telnet*** и нажать ***Enter***. 

Важно учитывать риски безопасности при использовании Telnet, так как он отправляет данные в открытом виде. Это может привести к подслушиванию конфиденциальной информации, например, имён пользователей и паролей.

### tokEx1 - первый пример, как есть, из материалов Токмакова

- по ***simple.php*** создаём файл сервера ***tokEx1SocketServer.php***;

- запускаем его в работу в каталоге из командной строки:

***php.exe -f tokEx1SocketServer.php***

```
Microsoft Windows [Version 10.0.26200.7623]
(c) Корпорация Майкрософт (Microsoft Corporation). Все права защищены.

c:\Probatv\www\Websocket\wsTokmakov\tokEx1>php.exe -f tokEx1SocketServer.php
SERVER START
Socket create...
Socket bind...
Set options...
Listening socket...
Waiting for connections...

```

- по ***Win+R*** загружаем другую командную строку, запускаем ***telnet*** и видим его подключение:

```
Добро пожаловать в программу-клиент Microsoft Telnet

Символ переключения режима: 'CTRL+]'

Microsoft Telnet>

```

- Получив приглашение telnet, даем команду: ***open 127.0.0.1 7777***. Убеждаемся, что получили ответ от сервера и завершили его работу:

```
Hello, Client!

Подключение к узлу утеряно.

Нажмите любую клавишу...

```

### tokEx2 - второй пример с эхо-сервером из материалов Токмакова

- создаем класс WebSocketServer в файле ***tokEx2WebSocketServer.php***;

- для тестирования напишем PHP-скрипт, который запускает в работу сервер и все сообщения клиента отправляет обратно ***tokEx2echo-server.php***;

- для тестирования работы сервера создаем клиента ***tokEx2SocketClient.html***,
js-скрипт ***tokEx2socket.js*** и файл стилей ***tokEx2style.css***;

- tokEx2SocketClient.html в index.html и запускаем, как сайт;

- ***php.exe -f tokEx2echo-server.php***;





